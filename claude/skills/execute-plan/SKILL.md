---
name: execute-plan
description: "Execute a specific plan from the stock"
---

# execute-plan: 計画実行コマンド

蓄積された計画ファイルを読み込んで実行します。

## 使い方

```bash
/execute-plan [filename]
```

**例**:
```bash
/execute-plan 20260111-1430-add-dark-mode
```

## 動作フロー

### 1. プランファイル読み込み

`plans/$ARGUMENTS.md` を読み込みます。

**エラーハンドリング**:
- ファイルが存在しない場合: エラーメッセージを表示し終了
- `$ARGUMENTS` が空の場合: `plans/plan.md` の未完了タスクリストを表示し、どれを実行するか確認

### 2. 計画内容の確認

プランファイルの内容をユーザーに表示し、実行確認を取ります：

```
以下の計画を実行します:

[プランファイルの内容を表示]

実行してよろしいですか？
```

### 3. 計画の実行

受入条件を満たすように、計画に従って実装を行います。

**実行ルール**:
- タスク記述と実現方法に従って実装
- 受入条件のチェックリストを満たすことを目標に
- 依存関係を確認（前提タスクが未完了の場合は警告）

### 4. 受入条件の検証

実装完了後、受入条件を1つずつ確認：
- テストを実行
- 動作確認
- 必要に応じてユーザーに確認

### 5. plan.md更新

すべての受入条件を満たしたら、`plans/plan.md` の該当行を更新：

```markdown
- [x] [yyyymmdd-hhmm-title](./yyyymmdd-hhmm-title.md) - タスク概要
```

チェックボックスを `[ ]` から `[x]` に変更します。

### 6. 完了報告

ユーザーに以下を報告：
- 実装した内容のサマリー
- 満たした受入条件
- 次にすべきこと（あれば）

## エラーケース

### ファイルが存在しない
```
エラー: plans/$ARGUMENTS.md が見つかりません。

利用可能なプラン:
- 20260111-1430-example
- 20260111-1500-another

使い方: /execute-plan [filename]
```

### 引数なしで実行
```
実行可能なプラン:

- [ ] [20260111-1430-example](./20260111-1430-example.md) - タスク例
- [ ] [20260111-1500-another](./20260111-1500-another.md) - 別タスク

どのプランを実行しますか？ファイル名を指定してください。
```

## 制約事項
- 必ず受入条件をすべて満たすこと
- 依存関係が未解決の場合は警告を出す
- 実行完了後は必ず plan.md を更新
